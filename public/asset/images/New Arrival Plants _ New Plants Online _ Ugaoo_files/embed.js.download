"use strict";window.rhCurrentScript=document.currentScript.src;var scriptUrl=new URL(window.rhCurrentScript),params=new URLSearchParams(scriptUrl.search);window.rhCurrentShop=params.get("shop"),function(){try{function R(e){!h("console_log")&&"localhost"!==window.location.hostname||console.log(e)}function O(e){"function"==typeof prqAddedAllToCartCallback&&prqAddedAllToCartCallback(e)}function P(t,o,n){R("embed.js - setCookie - "+t+" - "+o+" - "+n);var e,r="";n&&((e=new Date).setTime(e.getTime()+24*n*60*60*1e3),r="; expires="+e.toUTCString());try{document.cookie=t+"="+(o||"")+r+"; sameSite=Lax; path=/"}catch(e){console.warn("Failed to set cookie:",e),console.warn("cookie details:",t,o,n)}}function h(t){try{for(var e=t+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var r=o[n];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(e))return r.substring(e.length,r.length)}}catch(e){console.warn("Failed to read cookie:",e),console.warn("cookie name:",t)}return null}window.addingToCart=!1,R("console_log enabled");const n=(e,t)=>{const o=new XMLHttpRequest;o.onreadystatechange=()=>{4===o.readyState&&200===o.status&&t(JSON.parse(o.responseText))},o.open("GET",e,!0),o.send(null)},F=(e,t,o)=>{const n=new XMLHttpRequest;n.onreadystatechange=()=>{4===n.readyState&&200===n.status&&o(JSON.parse(n.responseText))},n.open("POST",e,!0),n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),n.send(JSON.stringify(t))};function M(e){var t=document.querySelector(".rh-widget iframe"),e=JSON.stringify(e);t&&t.contentWindow&&t.contentWindow.postMessage&&t.contentWindow.postMessage(e,"*")}function o(o){o&&0<o.length&&n("/cart.js",function(e){for(var t=0;t<o.length;t++)o[t].innerHTML=e.item_count})}function H(t){R("embed.js - waitForPopulatedCart");var o=1;window.addingToCart?(R("start loop"),function e(){setTimeout(function(){window.addingToCart?(R("wait... "+o),++o<20&&e()):(R("redirecting to url..."),window.location.href=t)},2e3)}()):(R("redirecting to url..."),window.location.href=t)}function B(){var t=document.getElementById("CartCount");t&&n("/cart.js",function(e){t.innerHTML="<span>"+e.item_count+"</span>",0===e.item_count?t.classList.add("hide"):t.classList.remove("hide")});o(document.getElementsByClassName("cart-item-count-header"));var e=document.getElementsByClassName("cart_count");o(e)}function N(e){R("embed.js - addProductsToCartBigCommerce"),R(e),window.addingToCart=!0;var t,r=[];for(t in e){var a="/cart.php?action=add&sku="+encodeURIComponent(JSON.parse(t).sku)+"&qty="+encodeURIComponent(e[t]);r.push(a)}R(r);!function t(o){var n;n=r[o],new Promise(function(e,t){var o=new XMLHttpRequest;o.open("GET",n,!0),o.onreadystatechange=function(){4==o.readyState&&(200==o.status?e(!0):t(Error(o.statusText)))},o.onerror=function(){t(Error("network error"))},o.send()}).then(function(e){R(r[o]),R(e),++o<r.length?t(o):(R("embed.js - addProductsToCartBigCommerce - finished"),window.addingToCart=!1,a="/cart.php",window.location.href=a)})}(0)}function W(d){return R("embed.js - wcAddToCart"),new Promise(function(e,t){var o,n=new XMLHttpRequest,r=(window.rhCurrentShop&&null!==window.rhCurrentShop?n.open("POST","https://"+window.rhCurrentShop+"/?wc-ajax=add_to_cart"):n.open("POST","/?wc-ajax=add_to_cart"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),[]);for(o in d){var a=encodeURIComponent(o),i=encodeURIComponent(d[o]);r.push(a+"="+i)}r=r.join("&"),n.onreadystatechange=function(){4==n.readyState&&(200==n.status?(e(JSON.parse(n.responseText)),M({action:"added_one",product:d}),"function"==typeof prqAddedOneToCartCallback&&prqAddedOneToCartCallback(d)):t(Error(n.statusText)))},n.onerror=function(){t(Error("network error"))},n.send(r)})}window.addEventListener("message",function(e){if("https://admin.revenuehunt.com"===e.origin||"https://admin-staging.revenuehunt.com"===e.origin||"http://localhost:9528"===e.origin||"admin-dev.revenuehunt.com"===e.origin){var t,o,n,r,a,i,d,c,s="object"==typeof e.data?e.data:JSON.parse(e.data);try{"gtag_event"===s.action&&(R("gtag_event"),R(s),y=s.gtag_id,v=s.gtag_action,q=s.gtag_category,i=s.gtag_label,"undefined"==typeof gtag?console.warn("RevenueHunt: make sure to load gtag, before the embed.js script"):(R("trigger gtag"),q={event_category:q,event_label:i},void 0!==y&&(R("set user defined gtag"),q.send_to=y),gtag("event",v,q)))}catch(s){R(s)}try{"fbpixel_event"===s.action&&(c=s.facebook_pixel,t=s.fbq_action,o=s.fbq_event,n=s.fbq_params,void 0===window.fbq&&c&&(C=window,_=document,C.fbq||(r=C.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},C._fbq||(C._fbq=r),(r.push=r).loaded=!0,r.version="2.0",r.queue=[],(C=_.createElement("script")).async=!0,C.src="https://connect.facebook.net/en_US/fbevents.js",(_=_.getElementsByTagName("script")[0]).parentNode.insertBefore(C,_)),window.fbq("init",c)),void 0!==window.fbq)&&(n?window.fbq(t,o,n):window.fbq(t,o))}catch(s){R(s)}if("iframe_height"===s.action){if(0===(a=document.querySelectorAll(".rh-inline")).length)return;for(let e=0;e<a.length;e++){var u=a[e].dataset.url.split("/").pop();s.quizid===u&&(g=(f=a[e]).querySelector(".rh-inline iframe"))}if(!f||!g)return;var l="true"===f.getAttribute("data-fixed-height");"response"===s.location&&(l=!1),0===s.height||l||(f.style.height=s.height+"px",g.style.height=s.height+"px")}if("quiz_callback"===s.action){R("embed.js - quiz_callback"),P("prq-responseId-"+s.quiz.id,s.response.id,7);var p=s;if(R("embed.js - tagCartWithResponseId"),p.responseId||p.quizAnswers){var h={};if(p.responseId&&(h.__prq_response_id=p.responseId,h.__prq_quiz_id=p.quizId),p.quizAnswers)for(var m in p.quizAnswers)h[m]=p.quizAnswers[m];R("/cart/update.js"),R(h),F("/cart/update.js",{attributes:h},function(e){R(e)})}"function"==typeof prqQuizCallback&&prqQuizCallback(s),R("set klaviyo identify"),R(s.klaviyoIdentify),s.klaviyoIdentify&&"object"==typeof klaviyo?klaviyo.push(["identify",s.klaviyoIdentify]):s.klaviyoIdentify&&"object"==typeof _learnq&&_learnq.push(["identify",s.klaviyoIdentify])}if("slide_callback"===s.action&&"function"==typeof prqSlideCallback&&(R("embed.js - slide_callback"),prqSlideCallback(s)),"view_product"===s.action&&(window.location.href=s.url),"proceed_to_cart"===s.action){R("embed.js - proceed_to_cart"),R(s);e="/cart";if("undefined"!=typeof Shopify&&Shopify&&Shopify.routes&&Shopify.routes.root&&(e=Shopify.routes.root+"cart"),"ShopifyShop"===s.platform&&s.discountcode&&(e="/discount/"+s.discountcode.trim()+"/?redirect=/cart"),"ShopifyShop"===s.platform&&e.includes("?")?e=e+"&locale="+s.locale:"ShopifyShop"===s.platform&&(e=e+"?locale="+s.locale),"MagentoShop"===s.platform&&(e="/checkout/cart/"),s.carturl&&(e=(e="/"+(e=s.carturl)).replace("//","/")),s.quizid&&(e+=s.setutm),"BigcommerceShop"===s.platform)return void N(s.products);try{"ShopifyShop"!==s.platform?(R("embed.js - waitForPopulatedCart:"),R(e),H(e)):G()?(R("embed.js - Rebuy Cart"),Rebuy.SmartCart.show(),document.querySelector("rebuy-cart__flyout").style.zIndex=9999999999,M({action:"checking_out_false"})):(R("embed.js - Cart Redirect:"),R(e),window.location.href=e)}catch(s){R(s)}}if("retake_quiz"===s.action||"view_question"===s.action||"quiz_callback"===s.action){if(R("retake_quiz or view_question or quiz_callback"),R(s),0===(a=document.querySelectorAll(".rh-inline")).length)return;for(let e=0;e<a.length;e++){var f,g,u=a[e].dataset.url.split("/").pop();s.quizid===u&&(g=(f=a[e]).querySelector(".rh-inline iframe"))}if(!f||!g)return;(l="true"===f.getAttribute("data-fixed-height"))||(f.style.height="600px",g.style.height="600px"),X(f)}if("close_quiz"===s.action&&(R("embed.js - close_quiz"),J(s.quizid)),"add_one"===s.action&&"function"==typeof prqAddOneToCartCallback&&(R("embed.js - add_one callback"),prqAddOneToCartCallback(s)),"add_one"===s.action&&"ShopifyShop"===s.platform){if(R("embed.js - add_one Shopify"),R(s),s.recharge)return R("ReCharge product"),R(i={id:s.variantId,sellingPlanId:s.recharge.external_plan_id,sellingPlanGroupId:s.recharge.external_plan_group_id,isSubscription:!0}),void window.ReChargeWidget.api.postToCart(i);R("Shopify product"),F("/cart/add.js",{quantity:1,id:s.variantId},function(e){B(),"function"==typeof prqAddedOneToCartCallback&&prqAddedOneToCartCallback(e)})}if("add_one"===s.action&&"WoocommerceShop"===s.platform&&(R("embed.js - add_one WooCommerce"),E=s.variantId||s.originId,W(w={quantity:1,product_id:E,product_sku:s.sku})),"add_one"===s.action&&"MagentoShop"===s.platform){R("embed.js - add_one Magento");var w={quantity:1,product_id:E=s.variantId||s.originId,product_sku:s.sku};const I=new XMLHttpRequest;I.responseType="json",I.open("GET","/productquiz/index/addquizproductstocart/product_id/"+E+"?"+U()),I.onload=()=>{R(I.response),"function"==typeof prqAddedOneToCartCallback&&prqAddedOneToCartCallback(w)},I.send()}if("add_all"===s.action&&"function"==typeof prqAddAllToCartCallback&&(R("embed.js - add_all"),prqAddAllToCartCallback(s)),"add_all"===s.action&&"ShopifyShop"===s.platform&&(R("embed.js - add_all Shopify"),window.addingToCart=!0,b=s.variantId.split("||"),d={},b.forEach(function(e){d[parseInt(e)]=1}),F("/cart/update.js",{updates:d},function(e){window.addingToCart=!1,B(),O(s)})),"add_all"===s.action&&"WoocommerceShop"===s.platform&&(R("embed.js - add_all WooCommerce"),window.addingToCart=!0,b=s.variantId.split("||"),function t(o){W({quantity:1,product_id:b[o]}).then(function(e){++o<b.length?t(o):(window.addingToCart=!1,M({action:"added_all"}),O(s))})}(0)),"add_all"===s.action&&"MagentoShop"===s.platform){R("embed.js - add_all Magento");var y=s.variantId.replace(/\|\|/g,",");const j=new XMLHttpRequest;j.responseType="json",j.open("GET","/productquiz/index/addallquizproductstocart/product_ids/"+y+"?"+U()),j.onload=()=>{R(j.response),M({action:"added_all"}),O(s)},j.send()}if("change_variant"===s.action){R("embed.js - change_variant");var b,v=(b=s.variantId.split("||"))[0],q=b[1];if(R(v),R(q),"ShopifyShop"===s.platform){var C,v=JSON.parse(v),q=JSON.parse(q);if(v.recharge)return R("ReCharge product"),R(C={id:v.variant_id,sellingPlanId:v.recharge.external_plan_id,sellingPlanGroupId:v.recharge.external_plan_group_id,isSubscription:!0}),void window.ReChargeWidget.api.postToCart(C);var _={};_[q.variant_id]=0,_[v.variant_id]=s.quantity,R("/cart/update.js"),R(_),F("/cart/update.js",{updates:_},function(e){R(e)})}"WoocommerceShop"===s.platform&&W(w={quantity:1,product_id:v})}if("remove_one"===s.action&&"function"==typeof prqRemoveOneFromCartCallback&&(R("remove_one callback"),prqRemoveOneFromCartCallback(s)),"remove_one"===s.action&&"ShopifyShop"===s.platform&&(R("remove_one Shopify"),c={},void 0!==s.quantity&&s.quantity||(s.quantity=0),c[s.variantId]=s.quantity,R("/cart/update.js"),R(c),F("/cart/update.js",{updates:c},function(e){R(e),B(),"function"==typeof prqRemovedOneFromCartCallback&&prqRemovedOneFromCartCallback(e)})),"remove_one"===s.action&&"WoocommerceShop"===s.platform){R("embed.js - remove_one WooCommerce");var S,k=new XMLHttpRequest,x=(k.open("POST","/?wc-ajax=remove_from_cart"),k.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),{cart_item_key:s.originId}),T=[];for(S in x){var A=encodeURIComponent(S),z=encodeURIComponent(x[S]);T.push(A+"="+z)}T=T.join("&"),k.onload=function(){R(k)},k.send(T)}if("remove_one"===s.action&&"MagentoShop"===s.platform){R("embed.js - remove_one Magento");var E,w={quantity:1,product_id:E=s.variantId||s.originId,product_sku:s.sku};const L=new XMLHttpRequest;L.responseType="json",L.open("GET","/productquiz/index/removequizproductstocart/product_id/"+E+"?"+U()),L.onload=()=>{R(L.response),"function"==typeof prqRemovedOneFromCartCallback&&prqRemovedOneFromCartCallback(w)},L.send()}}},!1);const p=()=>{for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t="",o=0;o<6;o++)t+=e.charAt(Math.floor(Math.random()*e.length));return t};function U(){return"cachebuster="+p()}const s=e=>"[object Object]"===Object.prototype.toString.call(e),m=(e,t=!1,o=!1,n=!1,r=!1)=>{t=a(t,o,n,r),o=new URLSearchParams(t).toString();return e+(""===o?"":"?"+o)},f=e=>{var t,o;return R("shopifyCurrency"),R(e),"undefined"!=typeof Shopify&&Shopify&&Shopify.currency?({active:o,rate:t}=Shopify.currency,o=`currency_code=${o}&currency_rate=`+t,e.includes("?")?e+"&"+o:e+"?"+o):e},a=function(e,t,o,n){R("embed.js - quizParameters");var r,a,i,d=new URLSearchParams(window.location.search),c={};e&&(t=c.popup="true"),o&&(c.popupWidth=o),n&&(c.popupHeight=n),t||(c.autoscroll="false"),s(window.prq_vars)&&(c=Object.assign(c,window.prq_vars)),R("URLSearchParams");for(r of d.entries())r[0].startsWith("prq_")&&(a=r[0].replace("prq_",""),i=r[1],R(r),c[a]=i);return c},r=function(e){return R("embed.js - isAutoScroll"),R(e),!e||"false"!==e.toLowerCase()},G=()=>null!==document.querySelector("body.smart-cart--enabled")&&"undefined"!=typeof Rebuy&&void 0!==Rebuy?.SmartCart,g=function(){document.querySelectorAll(".rh-widget iframe")&&document.querySelectorAll(".rh-widget iframe").forEach(function(e){e.remove()}),document.querySelectorAll(".rh-widget").forEach(function(e){var t=p(),o=e.dataset.url,o=m(o,!1,r(e.dataset.autoscroll)),o=f(o),n=(R("RenderInlineEmbed - shopifyCurrency"),R(o),document.createElement("iframe"));n.name="Product Recommendation Quiz",n.src=o,n.id=t,n.style.cssText="transform-style: preserve-3d; padding: 0; border: none; margin: 0 auto; height: 100%; flex-grow: 1; background: url(https://admin.revenuehunt.com/rolling.svg) no-repeat center;",n.setAttribute("data-hj-allow-iframe","true"),e.appendChild(n),document.getElementById(t).onload=function(){document.getElementById(t).contentWindow.focus()}})},w=()=>{var e,t,o=window["rhCurrentScript"],n=document["URL"];for({regex:e,domain:t}of[{regex:/admin\-staging\.revenuehunt\.com/,domain:"https://admin-staging.revenuehunt.com"},{regex:/admin\-dev\.revenuehunt\.com/,domain:"https://admin-dev.revenuehunt.com"},{regex:/localhost|productrecommendationquizforwoocommerce|productrecommendationquiz.local/,domain:"http://localhost:9528"}])if(e.test(o)||e.test(n))return t;return"https://admin.revenuehunt.com"},y=function(){var e=w(),e='.rh-chat {      width: 50px;      height: 50px;      bottom: 20px;      right: 20px;      cursor: pointer;      position: fixed;      border-radius: 25px;        -webkit-border-radius: 25px;        -moz-border-radius: 25px;        -webkit-box-shadow: 0 0 3px 0 rgba(0,0,0,0.1);        -moz-box-shadow: 0 0 3px 0 rgba(0,0,0,0.1);      box-shadow: 0 0 3px 0 rgba(0,0,0,0.1);    }          .rh-greeting {        padding: 8px;        background-color: white;        bottom: 29px;        right: 80px;        position: fixed;        color: #666;        font-size: 12px;        border: 1px solid #eee;        border-radius: 6px;          -webkit-border-radius: 6px;          -moz-border-radius: 6px;          -webkit-box-shadow: 0 0 3px 0 rgba(0,0,0,0.1);          -moz-box-shadow: 0 0 3px 0 rgba(0,0,0,0.1);        box-shadow: 0 0 3px 0 rgba(0,0,0,0.1);        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;      }        span.rh-close {      cursor: pointer;      font-weight: bold;      background-image: url(\''+e+"/close-x.svg');        background-size: cover;        background-position: center;        opacity: 0.25;        width: 10px;        height: 10px;        margin-left: 4px;        display: inline-block !important;      }          .rh-dot {        width: 10px;        height: 10px;        background-color: #FF5500;        border: 2px solid white;        float: right;        box-sizing: content-box;        border-radius: 10px;          -webkit-border-radius: 10px;          -moz-border-radius: 10px;        display: block !important;      }          .rh-icon {        width: 25px;        height: 25px;        position: absolute;        margin: 12px;        background-image: url('"+e+"/chat-quiz-white.svg');          background-size: cover;          background-position: center;          display: inline-block !important;        }",t=document.createElement("style");t.innerText=e.replace(/[\r\n]+/gm,""),document.head.appendChild(t)},b=(window.rhCloseGreeting=function(){R("rhCloseGreeting"),document.getElementById("rh-greeting")&&(document.getElementById("rh-greeting").outerHTML="")},window.rhCloseNotification=function(){R("rhCloseNotification"),document.getElementById("rh-dot")&&(document.getElementById("rh-dot").outerHTML="")},window.rhClickChat=function(e,t,o){R("rhClickChat"),R(e),window.rhCloseGreeting(),window.rhCloseNotification(),window.openQuizPopup(e,t,o)},function(e,t,o,n,r,a){var i=document.createElement("div"),d=document.createElement("div"),c=document.createElement("div");d.classList.add("rh-chat"),d.style.backgroundColor=t,d.addEventListener("click",function(){window.rhClickChat(e,r,a)}),c.classList.add("rh-icon"),d.appendChild(c),o&&((t=document.createElement("div")).classList.add("rh-dot"),t.setAttribute("id","rh-dot"),d.appendChild(t)),i.appendChild(d),n&&(c=document.createElement("div"),o=document.createElement("span"),c.classList.add("rh-greeting"),c.setAttribute("id","rh-greeting"),c.textContent=n,o.classList.add("rh-close"),o.addEventListener("click",window.rhCloseGreeting),c.appendChild(o),i.appendChild(c)),document.body.appendChild(i)}),v=function(e,t,o,n,r){var a,i,d,c,s,u,l;o&&window.prqPopup?R("window.isPopup: "+o):(o&&(window.prqPopup=e,document.querySelector("body").style.overflow="hidden",P("auto-popup-"+e,"true",7)),a=w(),(i=document.createElement("div")).className="rh-modal",i.style.cssText="display: block; position: fixed; z-index: 9998 !important; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(254,254,254,0.6);",(d=document.createElement("span")).innerHTML="&times;",d.style.cssText="position: fixed; color: #888888; z-index: 9999 !important; font-size: 36px; line-height: 36px; text-align: center; font-weight: normal; right: 20px; top: 20px; cursor: pointer; width: 38px; height: 38px; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; background-color: rgba(255,255,255,0.5)",d.onclick=function(e){R("click X close quiz");var t="[id='"+window.prqPopup+"'] iframe";document.querySelector(t)?M({action:"close_quiz"}):console.error("iFrame not found for ID: "+window.prqPopup),document.querySelector("body").style.overflow=null,window.prqPopup=!1,i.style.display="none",-1!==window.location.hash.indexOf("#quiz-")&&history.pushState("",document.title,window.location.pathname+window.location.search)},u=a+"/public/quiz/"+e,s=m(u,o,!1,n,r),void 0!==t&&!1!==t&&(c=!0,s=a+"/public/quiz/"+e+"/results/"+t),s=f(s),R("showQuiz - shopifyCurrency"),R(s),u=document.querySelectorAll(".rh-inline"),l=!1,c&&0<u.length&&(window.quizId=e,u.forEach(function(e){var t,o;e.dataset.url.split("/").pop()===window.quizId&&(l=!0,document.querySelector("body").style.overflow=null,e.querySelectorAll("iframe").forEach(function(e){e.remove()}),t=p(),(o=document.createElement("iframe")).name="Product Recommendation Quiz",o.src=s,o.id=t,o.style.cssText="transform-style: preserve-3d; padding: 0; border: none; margin: 0 auto; height: 100%; flex-grow: 1; background: url(https://admin.revenuehunt.com/rolling.svg) no-repeat center;",o.setAttribute("data-hj-allow-iframe","true"),e.appendChild(o),document.getElementById(t).onload=function(){document.getElementById(t).contentWindow.focus()})}),l)||((o=document.createElement("div")).id=e,o.className="rh-widget",o.dataset.url=s,o.style.cssText="display: flex; background-color: rgba(254,254,254,0.4); margin: 0; padding: 0; height: 100%;",o.style["flex-grow"]=1,window.onclick=function(e){e.target===i&&(i.style.display="none")},i.appendChild(o),o.appendChild(d),document.getElementsByTagName("body")[0].appendChild(i),g()))},q=e=>{var t=document.createElement("link");t.rel="dns-prefetch",t.href=e,document.head.appendChild(t)},C=function(){var e=window.location.hash;if(R("checkHash"),R("hash"),e.match(/\#quiz\-/)){const n=e.split("#quiz-")[1];var t=document.querySelector(".rh-widget span"),o=()=>v(n,!1,"true");t?(t.click(),setTimeout(o,200)):o()}if(e.match(/\#results\-/)){const r=e.split("#results-")[1].split("-");R("#results"),R(r),v(r[0],r[1],!1),document.querySelectorAll(".rh-inline").forEach(e=>{var t=e.dataset.url.split("/").pop();r[0]===t&&(document.querySelector("body").style.overflow=null,e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}))})}},J=e=>{document.querySelector(`[id='${e}'] span`).click()},X=e=>{if(!e||!e.dataset||"false"===e.dataset.autoscroll)return!1;var e=e.getBoundingClientRect(),t=e.y+window.pageYOffset;e&&e.y<0&&(R("scroll_to: "+t),window.scrollTo({top:t,left:0,behavior:"smooth"}))};window.openQuizPopup=function(e,t,o){v(e,!1,"true",t,o)};var t=function(){setTimeout(function(){R("embed.js - prqApp"),c=".rh-inline, .rh-inline iframe{-webkit-transition: height 0.5s; -moz-transition: height 0.5s; -ms-transition: height 0.5s; -o-transition: height 0.5s; transition: height 0.5s;}",(a=document.createElement("style")).textContent=c,document.head.append(a),["https://api.revenuehunt.com","https://space.revenuehunt.com"].forEach(q),R("embed.js - GetAutomaticPopupData"),c=h("data-timeout"),o=Date.now(),r=n=!1,c&&(R("data-timeout cookie set:"),r=c.split("||")[0],n=parseInt(c.split("||")[1])),null!==document.getElementById("auto-popup")&&(a=document.getElementById("auto-popup"),d=parseFloat(a.getAttribute("data-timeout")),s=a.getAttribute("data-exit-intent")&&"true"===a.getAttribute("data-exit-intent").toLocaleLowerCase(),i=a.getAttribute("data-aggressive")&&"true"===a.getAttribute("data-aggressive").toLocaleLowerCase(),window.popupWidth=a.getAttribute("data-popup-width"),window.popupHeight=a.getAttribute("data-popup-height"),t=h("auto-popup-"+(r=a.getAttribute("data-quiz-id"))),i&&(t=h("prq-responseId-"+r)),n=1e3*(d=d&&d<=0?.5:d)+o),c||P("data-timeout",r+"||"+n,7),r&&s&&!t&&document.addEventListener("mouseout",e=>{e.toElement||e.relatedTarget||t||window.popupAlreadyShown||(window.popupAlreadyShown=r,v(r,!1,"true",window.popupWidth,window.popupHeight))}),R("timeTimeout:"),R((n-o)/1e3),R(r),r&&!t&&0<n-o&&(R("setInterval TIMEOUT"),e=setInterval(function(){o=Date.now(),n-o<0&&!window.popupAlreadyShown&&(R("Show Quiz after timeout: "+r),window.popupAlreadyShown=r,v(r,!1,"true",window.popupWidth,window.popupHeight),clearInterval(e))},1e3)),g(),document.querySelectorAll("a").forEach(function(e){var t;e&&e.href&&"string"==typeof e.href&&e.href.match(/\#quiz\-/)&&(t=e.href.split("#quiz-")[1],e.addEventListener("click",function(e){e.preventDefault(),document.getElementById(t)&&document.getElementById(t).remove(),v(t,!1,"true")}))});var t,e,o,n,r,a=document.getElementById("rh-chat");if(null!==a){R("--------------------------------"),R("RenderChatEmbed");var i=a.getAttribute("data-quiz-id"),d=a.getAttribute("data-chat-color"),c=a.getAttribute("data-chat-dot")&&"true"===a.getAttribute("data-chat-dot").toLocaleLowerCase(),s=a.getAttribute("data-chat-hide")&&"true"===a.getAttribute("data-chat-hide").toLocaleLowerCase(),u=a.getAttribute("data-popup-width"),l=a.getAttribute("data-popup-height");let e=!1;a.getAttribute("data-chat-greeting")&&(e=a.getAttribute("data-chat-greeting"));a=h("prq-responseId-"+i);R(a),s&&a||(y(),b(i,d,c,e,u,l))}if(C(),window.addEventListener("hashchange",()=>{R("embed.js - detectHashChange"),C()}),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&window.addEventListener("pageshow",function(){document.querySelectorAll(".rh-widget iframe").forEach(function(e){R("embed.js - is Safari, reload iframe"),e.src=e.src})}),"undefined"!=typeof Shopify&&Shopify&&Shopify.designMode){var p=document.querySelectorAll(".rh-quiz-list");for(let e=0;e<p.length;e++)p[e].style.display="block"}},50)};void 0===window.prqAppLoaded&&(t(),window.prqAppLoaded=!0,"function"==typeof prqAppLoadedCallback)&&prqAppLoadedCallback()}catch(e){console.error(e),t={events:[{name:"Embed.js JavaScript Error",properties:{message:(t=e).toString(),location:window.location.href,stack:t.stack}}]},fetch("https://api.revenuehunt.com/ahoy/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).catch(e=>{console.error("Error sending event data to Ahoy:",e)})}}();